{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\crazy\\\\Documents\\\\custom-modpacks\\\\admin-interface\\\\src\\\\components\\\\FileUpload\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { cloud } from '../../assets/exports';\nimport { UploadedFile } from '../exports';\nimport './fileupload.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onChange,\n  version,\n  isEdit\n}) => {\n  _s();\n  const [isDragging, setIsDragging] = useState(false);\n  const [uploadedVersion, setUploadedVersion] = useState({\n    name: '',\n    versions: '',\n    mcVersion: '',\n    modLoader: '',\n    modName: '',\n    description: '',\n    thumbnail: '',\n    version: '',\n    size: ''\n  });\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  const handleDragEnter = () => {\n    setIsDragging(true);\n  };\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  const handleVersion = version => {\n    if (!version.name.toLowerCase().endsWith('.zip')) {\n      console.error('Invalid file type. Please upload a ZIP file.');\n      return;\n    }\n    setUploadedVersion({\n      version: version.name,\n      size: version.size\n    });\n    console.log(version);\n    onChange('zipFile', version);\n    onChange('zip', version.name);\n    onChange('size', version.size);\n    const reader = new FileReader();\n    reader.onprogress = event => {\n      if (event.lengthComputable) {\n        const progress = event.loaded / event.total * 100;\n        setUploadProgress(progress);\n      }\n    };\n    reader.onloadend = () => {\n      console.log('Reading finished');\n    };\n    reader.readAsDataURL(version);\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    setIsDragging(false);\n    const files = event.dataTransfer.files;\n    handleVersion(files[0]);\n  };\n  const handleFileInputChange = event => {\n    const files = event.target.files;\n    handleVersion(files[0]);\n  };\n  const handleClick = () => {\n    fileInputRef.current.click();\n  };\n  const removeVersion = () => {\n    setUploadProgress(0);\n    setUploadedVersion({\n      name: '',\n      version: '',\n      mcVersion: '',\n      modVersion: '',\n      modLoader: '',\n      description: '',\n      thumbnail: '',\n      version: '',\n      size: ''\n    });\n    onChange('zip', '');\n    onChange('size', '');\n  };\n  useEffect(() => {\n    if (version) {\n      setUploadedVersion(version);\n      setUploadProgress(100);\n    }\n  }, [version]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: uploadProgress > 0 ? /*#__PURE__*/_jsxDEV(UploadedFile, {\n      uploadedVersion: uploadedVersion,\n      removeVersion: removeVersion,\n      progress: uploadProgress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `file-upload ${isDragging ? 'dragging' : ''}`,\n      onDragEnter: handleDragEnter,\n      onDragLeave: handleDragLeave,\n      onDragOver: handleDragOver,\n      onDrop: handleDrop,\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-upload-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: cloud,\n          alt: \"Cloud upload icon\",\n          width: 28,\n          height: 28\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"file-upload-content-text\",\n          children: \"Drop files here or click to upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".zip\",\n        ref: fileInputRef,\n        style: {\n          display: 'none'\n        },\n        onChange: handleFileInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(FileUpload, \"M6LAe8f/FDqeMEljOkdQH7KRmcg=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","useRef","useEffect","cloud","UploadedFile","jsxDEV","_jsxDEV","Fragment","_Fragment","FileUpload","onChange","version","isEdit","_s","isDragging","setIsDragging","uploadedVersion","setUploadedVersion","name","versions","mcVersion","modLoader","modName","description","thumbnail","size","uploadProgress","setUploadProgress","fileInputRef","handleDragEnter","handleDragLeave","handleDragOver","e","preventDefault","handleVersion","toLowerCase","endsWith","console","error","log","reader","FileReader","onprogress","event","lengthComputable","progress","loaded","total","onloadend","readAsDataURL","handleDrop","files","dataTransfer","handleFileInputChange","target","handleClick","current","click","removeVersion","modVersion","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onDragEnter","onDragLeave","onDragOver","onDrop","onClick","src","alt","width","height","type","accept","ref","style","display","_c","$RefreshReg$"],"sources":["C:/Users/crazy/Documents/custom-modpacks/admin-interface/src/components/FileUpload/FileUpload.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { cloud } from '../../assets/exports';\r\nimport { UploadedFile } from '../exports';\r\nimport './fileupload.css';\r\n\r\n\r\nconst FileUpload = ({ onChange, version, isEdit }) => {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [uploadedVersion, setUploadedVersion] = useState({\r\n        name: '',\r\n        versions: '',\r\n        mcVersion: '',\r\n        modLoader: '',\r\n        modName: '',\r\n        description: '',\r\n        thumbnail: '',\r\n        version: '',\r\n        size: '',\r\n    });\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n    const fileInputRef = useRef(null);\r\n\r\n    const handleDragEnter = () => {\r\n        setIsDragging(true);\r\n    };\r\n\r\n    const handleDragLeave = () => {\r\n        setIsDragging(false);\r\n    };\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const handleVersion = (version) => {\r\n        if (!version.name.toLowerCase().endsWith('.zip')) {\r\n            console.error('Invalid file type. Please upload a ZIP file.');\r\n            return;\r\n        }\r\n        setUploadedVersion({\r\n            version: version.name,\r\n            size: version.size,\r\n        });\r\n        console.log(version);\r\n        onChange('zipFile', version);\r\n        onChange('zip', version.name);\r\n        onChange('size', version.size);\r\n        const reader = new FileReader();\r\n        reader.onprogress = (event) => {\r\n            if (event.lengthComputable) {\r\n                const progress = (event.loaded / event.total) * 100;\r\n                setUploadProgress(progress);\r\n            }\r\n        };\r\n        reader.onloadend = () => {\r\n            console.log('Reading finished');\r\n        };\r\n        reader.readAsDataURL(version);\r\n    };\r\n\r\n    const handleDrop = (event) => {\r\n        event.preventDefault();\r\n        setIsDragging(false);\r\n        const files = event.dataTransfer.files;\r\n        handleVersion(files[0]);\r\n    };\r\n\r\n    const handleFileInputChange = (event) => {\r\n        const files = event.target.files;\r\n        handleVersion(files[0]);\r\n    };\r\n\r\n    const handleClick = () => {\r\n        fileInputRef.current.click();\r\n    };\r\n\r\n    const removeVersion = () => {\r\n        setUploadProgress(0);\r\n        setUploadedVersion({\r\n            name: '',\r\n            version: '',\r\n            mcVersion: '',\r\n            modVersion: '',\r\n            modLoader: '',\r\n            description: '',\r\n            thumbnail: '',\r\n            version: '',\r\n            size: '',\r\n        });\r\n        onChange('zip', '');\r\n        onChange('size', '');\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (version) {\r\n            setUploadedVersion(version);\r\n            setUploadProgress(100);\r\n        }\r\n    }, [version]);\r\n\r\n    return (\r\n        <>\r\n            {uploadProgress > 0 ? (\r\n                <UploadedFile uploadedVersion={uploadedVersion} removeVersion={removeVersion} progress={uploadProgress} />\r\n            ) : (\r\n                <div\r\n                    className={`file-upload ${isDragging ? 'dragging' : ''}`}\r\n                    onDragEnter={handleDragEnter}\r\n                    onDragLeave={handleDragLeave}\r\n                    onDragOver={handleDragOver}\r\n                    onDrop={handleDrop}\r\n                    onClick={handleClick}\r\n                >\r\n                    <div className='file-upload-content'>\r\n                        <img src={cloud} alt='Cloud upload icon' width={28} height={28} />\r\n                        <p className='file-upload-content-text'>Drop files here or click to upload</p>\r\n                    </div>\r\n                    <input\r\n                        type='file'\r\n                        accept='.zip'\r\n                        ref={fileInputRef}\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileInputChange}\r\n                    />\r\n                </div>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default FileUpload;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}