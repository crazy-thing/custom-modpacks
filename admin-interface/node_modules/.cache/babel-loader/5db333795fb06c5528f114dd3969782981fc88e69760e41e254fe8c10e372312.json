{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./createversion.css';import{InputBox,FileUpload,Button,DropDown}from'../exports';import{getVanillaVersions}from'../../util/vanillaApi';import{fabricIcon,forgeIcon}from'../../assets/exports';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CreateVersion=_ref=>{let{close,isEdit,handleVersionChange,editVersion,isEditVersion}=_ref;const[version,setVersion]=useState({name:'',size:'',id:Date.now(),zipFile:'',mcVersion:'',modLoader:'',modName:''});const[vanillaVersions,setVanillaVersions]=useState([]);const[activeModName,setActiveModName]=useState('Fabric');const handleVersion=(fieldName,value)=>{setVersion(prevValues=>({...prevValues,[fieldName]:value}));};const toggleModLoader=()=>{const newLoaderName=activeModName==='Fabric'?'Forge':'Fabric';handleVersion('modName',newLoaderName);setActiveModName(newLoaderName);};const fetchOptions=async()=>{try{const vanVersions=await getVanillaVersions();setVanillaVersions(vanVersions);}catch(error){console.error('Error fetching vanilla versions: ',error);}};useEffect(()=>{fetchOptions();if(isEditVersion){setVersion(editVersion);if(editVersion.modName===undefined){setActiveModName('Fabric');handleVersion('modName',activeModName);}else{setActiveModName(editVersion.modName);handleVersion('modName',activeModName);}}else{setActiveModName(\"Fabric\");handleVersion('modName',activeModName);}},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"create-version\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-info-inputs-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"create-version-info-inputs-headers\",children:\"Version\"}),/*#__PURE__*/_jsx(InputBox,{width:320,height:10,fontSize:\"16px\",placeHolder:\"Enter Version\",value:version.name,onChange:value=>handleVersion('name',value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-info-inputs-container\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"create-version-info-inputs-headers\",children:\"Minecraft Version\"}),/*#__PURE__*/_jsx(DropDown,{width:320,height:10,fontSize:\"16px\",placeHolder:\"Enter Minecraft version\",value:version.mcVersion,onChange:value=>handleVersion('mcVersion',value),options:vanillaVersions})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-info-inputs-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-info-inputs-headers-container\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"create-version-info-inputs-headers\",children:[activeModName,\" Version\"]}),/*#__PURE__*/_jsx(\"img\",{className:\"create-version-info-inputs-headers-img\",src:activeModName==='Fabric'?fabricIcon:forgeIcon,alt:activeModName==='Fabric'?'Fabric':'Forge',onClick:toggleModLoader,width:24,height:24})]}),/*#__PURE__*/_jsx(InputBox,{width:320,height:10,fontSize:\"16px\",placeHolder:\"Enter Mod Loader\",value:version.modLoader,onChange:value=>handleVersion('modLoader',value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-file-upload\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"create-version-file-upload-header\",children:\"Modpack Zip File\"}),isEditVersion?/*#__PURE__*/_jsx(FileUpload,{onChange:handleVersion,version:isEditVersion?version:null,isEdit:isEdit,isEditVersion:isEditVersion}):/*#__PURE__*/_jsx(FileUpload,{onChange:handleVersion})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"create-version-buttons\",children:[/*#__PURE__*/_jsx(Button,{width:90,height:27,text:\"Cancel\",fontSize:\"14px\",type:\"cancel\",onClick:close}),/*#__PURE__*/_jsx(Button,{width:90,height:27,text:isEdit?'Save':'Confirm',fontSize:\"14px\",type:\"confirm\",onClick:()=>handleVersionChange(version)})]})]});};export default CreateVersion;","map":{"version":3,"names":["React","useEffect","useState","InputBox","FileUpload","Button","DropDown","getVanillaVersions","fabricIcon","forgeIcon","jsx","_jsx","jsxs","_jsxs","CreateVersion","_ref","close","isEdit","handleVersionChange","editVersion","isEditVersion","version","setVersion","name","size","id","Date","now","zipFile","mcVersion","modLoader","modName","vanillaVersions","setVanillaVersions","activeModName","setActiveModName","handleVersion","fieldName","value","prevValues","toggleModLoader","newLoaderName","fetchOptions","vanVersions","error","console","undefined","className","children","width","height","fontSize","placeHolder","onChange","options","src","alt","onClick","text","type"],"sources":["C:/Users/crazy/Documents/custom-modpacks/admin-interface/src/components/CreateVersion/CreateVersion.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './createversion.css';\r\nimport { InputBox, FileUpload, Button, DropDown} from '../exports';\r\nimport { getVanillaVersions } from '../../util/vanillaApi';\r\nimport { fabricIcon, forgeIcon } from '../../assets/exports';\r\n\r\nconst CreateVersion = ({ close, isEdit, handleVersionChange, editVersion, isEditVersion}) => {\r\n\r\n  const [version, setVersion] = useState({\r\n    name: '',\r\n    size: '',\r\n    id: Date.now(),\r\n    zipFile: '',\r\n    mcVersion: '',\r\n    modLoader: '',\r\n    modName: '',\r\n  });\r\n  \r\n\r\n  const [vanillaVersions, setVanillaVersions] = useState([]);\r\n  const [activeModName, setActiveModName] = useState('Fabric');\r\n\r\n\r\n\r\n  const handleVersion = (fieldName, value) => {\r\n    setVersion((prevValues) => ({\r\n      ...prevValues,\r\n      [fieldName]: value,\r\n    }));\r\n  };\r\n\r\n\r\n  const toggleModLoader = () => {\r\n    const newLoaderName = activeModName === 'Fabric' ? 'Forge' : 'Fabric'\r\n    handleVersion('modName', newLoaderName);\r\n    setActiveModName(newLoaderName);\r\n  };\r\n\r\n\r\n  const fetchOptions = async () => {\r\n    try {\r\n      const vanVersions = await getVanillaVersions();\r\n\r\n      setVanillaVersions(vanVersions);\r\n    } catch (error) {\r\n      console.error('Error fetching vanilla versions: ', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOptions();\r\n\r\n    if (isEditVersion) {\r\n      setVersion(editVersion);\r\n      if (editVersion.modName === undefined)\r\n      {\r\n        setActiveModName('Fabric');\r\n        handleVersion('modName', activeModName);\r\n      }\r\n      else {\r\n        setActiveModName(editVersion.modName);\r\n        handleVersion('modName', activeModName);\r\n      }\r\n    }\r\n    else {\r\n      setActiveModName(\"Fabric\");\r\n      handleVersion('modName', activeModName);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className='create-version'>\r\n            <div className='create-version-info-inputs-container'>\r\n                <p className='create-version-info-inputs-headers'>Version</p>\r\n                  <InputBox\r\n                    width={320}\r\n                    height={10}\r\n                    fontSize='16px'\r\n                    placeHolder='Enter Version'\r\n                    value={version.name}\r\n                    onChange={(value) => handleVersion('name', value)}\r\n                  />   \r\n            </div>\r\n\r\n            <div className='create-version-info-inputs-container'>\r\n              <p className='create-version-info-inputs-headers'>Minecraft Version</p>\r\n              <DropDown\r\n                width={320}\r\n                height={10}\r\n                fontSize='16px'\r\n                placeHolder='Enter Minecraft version'\r\n                value={version.mcVersion}\r\n                onChange={(value) => handleVersion('mcVersion', value)}\r\n                options={vanillaVersions}\r\n              />\r\n            </div>\r\n\r\n            <div className='create-version-info-inputs-container'>\r\n              <div className='create-version-info-inputs-headers-container'>\r\n                <p className='create-version-info-inputs-headers'>{activeModName} Version</p>\r\n                <img\r\n                  className='create-version-info-inputs-headers-img'\r\n                  src={activeModName === 'Fabric' ? fabricIcon : forgeIcon}\r\n                  alt={activeModName === 'Fabric' ? 'Fabric' : 'Forge'}\r\n                  onClick={toggleModLoader}\r\n                  width={24}\r\n                  height={24}\r\n                />\r\n              </div>\r\n              <InputBox\r\n                width={320}\r\n                height={10}\r\n                fontSize='16px'\r\n                placeHolder='Enter Mod Loader'\r\n                value={version.modLoader}\r\n                onChange={(value) => handleVersion('modLoader', value)}\r\n              />\r\n\r\n          </div>\r\n        <div className='create-version-file-upload'>\r\n            <p className='create-version-file-upload-header'>Modpack Zip File</p>\r\n            {isEditVersion ? (\r\n              <FileUpload onChange={handleVersion} version={isEditVersion ? version : null} isEdit={isEdit} isEditVersion={isEditVersion} />\r\n            ) : (\r\n              <FileUpload onChange={handleVersion} />\r\n            )}\r\n      </div>\r\n\r\n      <div className='create-version-buttons'>\r\n        <Button width={90} height={27} text='Cancel' fontSize='14px' type='cancel' onClick={close} />\r\n        <Button width={90} height={27} text={isEdit ? 'Save' : 'Confirm'} fontSize='14px' type='confirm' onClick={() => handleVersionChange(version)}  />\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default CreateVersion;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}