{"ast":null,"code":"const createFormData=modpack=>{const formData=new FormData();formData.append('name',modpack.name);formData.append('version',modpack.version);formData.append('description',modpack.description);formData.append('thumbnail',modpack.thumbnail);// Append the file with a name\nmodpack.versions.forEach((version,index)=>{console.log(version);formData.append(\"versions[\".concat(index,\"][name]\"),version.name);formData.append(\"versions[\".concat(index,\"][id]\"),version.id);formData.append(\"versions[\".concat(index,\"][zip]\"),version.zip);// Append the file with a name\nformData.append(\"versions[\".concat(index,\"][zipFile]\"),version.zipFile);formData.append(\"versions[\".concat(index,\"][size]\"),version.size);formData.append(\"versions[\".concat(index,\"][mcVersion]\"),version.mcVersion);formData.append(\"versions[\".concat(index,\"][modLoader]\"),version.modLoader);formData.append(\"versions[\".concat(index,\"][modName]\"),version.modName);});return formData;};export const uploadModpack=async(modpack,baseUrl)=>{try{const formData=createFormData(modpack);const res=await fetch(baseUrl,{method:'POST',body:formData});if(!res.ok){throw new Error('Failed to upload file');}return res.json();}catch(error){console.error('Error uploading file: ',error);throw error;}};export const editModpack=async(modpack,baseUrl)=>{try{const formData=createFormData(modpack);const res=await fetch(\"\".concat(baseUrl,\"/\").concat(modpack.id),{method:'PUT',body:formData});if(!res.ok){throw new Error('Failed updating file');}return res.json();}catch(error){console.error('Error updating file: ',error);throw error;}};export const getAllModpacks=async baseUrl=>{try{const res=await fetch(baseUrl,{method:'GET'});if(!res.ok){throw new Error('Failed to fetch modpacks');}return res.json();}catch(error){console.error('Error fetching modpacks: ',error);throw error;}};export const deleteModpack=async(modpack,baseUrl)=>{try{const res=await fetch(\"\".concat(baseUrl,\"/\").concat(modpack.id),{method:'DELETE'});if(!res.ok){throw new Error(\"Failed to delete modpack with ID: \".concat(modpack.id));}return res.json();}catch(error){console.error('Error deleting modpack: ',error);throw error;}};","map":{"version":3,"names":["createFormData","modpack","formData","FormData","append","name","version","description","thumbnail","versions","forEach","index","console","log","concat","id","zip","zipFile","size","mcVersion","modLoader","modName","uploadModpack","baseUrl","res","fetch","method","body","ok","Error","json","error","editModpack","getAllModpacks","deleteModpack"],"sources":["C:/Users/crazy/Documents/custom-modpacks/admin-interface/src/util/api.js"],"sourcesContent":["const createFormData = (modpack) => {\r\n    const formData = new FormData();\r\n\r\n    formData.append('name', modpack.name);\r\n    formData.append('version', modpack.version);\r\n    formData.append('description', modpack.description);\r\n    formData.append('thumbnail', modpack.thumbnail); // Append the file with a name\r\n    modpack.versions.forEach((version, index) => {\r\n        console.log(version);\r\n        formData.append(`versions[${index}][name]`, version.name);\r\n        formData.append(`versions[${index}][id]`, version.id);\r\n        formData.append(`versions[${index}][zip]`, version.zip); // Append the file with a name\r\n        formData.append(`versions[${index}][zipFile]`, version.zipFile);\r\n        formData.append(`versions[${index}][size]`, version.size);\r\n        formData.append(`versions[${index}][mcVersion]`, version.mcVersion);\r\n        formData.append(`versions[${index}][modLoader]`, version.modLoader);\r\n        formData.append(`versions[${index}][modName]`, version.modName);\r\n    });\r\n\r\n    return formData;\r\n};\r\n\r\nexport const uploadModpack = async (modpack, baseUrl) => {\r\n    try {\r\n        const formData = createFormData(modpack);\r\n\r\n        const res = await fetch(baseUrl, {\r\n            method: 'POST',\r\n            body: formData,\r\n        });\r\n\r\n        if (!res.ok) {\r\n            throw new Error('Failed to upload file');\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        console.error('Error uploading file: ', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const editModpack = async (modpack, baseUrl) => {\r\n    try {\r\n        const formData = createFormData(modpack);\r\n\r\n        const res = await fetch(`${baseUrl}/${modpack.id}`, {\r\n            method: 'PUT',\r\n            body: formData,\r\n        });\r\n\r\n        if (!res.ok) {\r\n            throw new Error('Failed updating file');\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        console.error('Error updating file: ', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const getAllModpacks = async (baseUrl) => {\r\n    try {\r\n        const res = await fetch(baseUrl, {\r\n            method: 'GET',\r\n        });\r\n\r\n        if (!res.ok) {\r\n            throw new Error('Failed to fetch modpacks');\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        console.error('Error fetching modpacks: ', error);\r\n        throw error;\r\n    }\r\n};\r\n\r\nexport const deleteModpack = async (modpack, baseUrl) => {\r\n    try {\r\n        const res = await fetch(`${baseUrl}/${modpack.id}`, {\r\n            method: 'DELETE',\r\n        });\r\n\r\n        if (!res.ok) {\r\n            throw new Error(`Failed to delete modpack with ID: ${modpack.id}`);\r\n        }\r\n\r\n        return res.json();\r\n    } catch (error) {\r\n        console.error('Error deleting modpack: ', error);\r\n        throw error;\r\n    }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}