{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\crazy\\\\Desktop\\\\MMMServer\\\\admin-interface\\\\src\\\\components\\\\FileUpload\\\\FileUpload.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport cloudIcon from '../../assets/cloud.png';\nimport './fileupload.css';\nimport UploadedFile from '../UploadedFile/UploadedFile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onClick\n}) => {\n  _s();\n  const [isDragging, setIsDragging] = useState(false);\n  const [uploadedModpack, setUploadedModpack] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  const handleDragEnter = () => {\n    setIsDragging(true);\n  };\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n  const handleDragOver = e => {\n    e.preventDefault();\n  };\n  const handleModpack = modpack => {\n    if (!modpack.name.toLowerCase().endsWith('.zip')) {\n      console.error('Invalid file type. Please upload a ZIP file.');\n      return;\n    }\n    setUploadedModpack(modpack);\n    const reader = new FileReader();\n    reader.onload = e => {\n      console.log(\"Reading Started\");\n    };\n    reader.onprogress = event => {\n      if (event.lengthComputable) {\n        const progress = event.loaded / event.total * 100;\n        setUploadProgress(progress);\n      }\n    };\n    reader.onloadend = () => {\n      console.log('Reading finished');\n    };\n    reader.onload = e => {\n      const dataUrl = e.target.result;\n      console.log('Temp data URL:', dataUrl);\n    };\n    reader.readAsDataURL(modpack);\n  };\n  const handleDrop = event => {\n    event.preventDefault();\n    setIsDragging(false);\n    const files = event.dataTransfer.files;\n    console.log(files[0]);\n    handleModpack(files[0]);\n  };\n  const handleFileInputChange = event => {\n    const files = event.target.files;\n    console.log(files[0]);\n    handleModpack(files[0]);\n  };\n  const handleClick = () => {\n    fileInputRef.current.click();\n  };\n  const removeModpack = () => {\n    setUploadProgress(0);\n    setUploadedModpack(null);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: uploadProgress > 0 ? /*#__PURE__*/_jsxDEV(UploadedFile, {\n      uploadedModpack: uploadedModpack,\n      removeModpack: removeModpack,\n      progress: uploadProgress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `file-upload ${isDragging ? 'dragging' : ''}`,\n      onDragEnter: handleDragEnter,\n      onDragLeave: handleDragLeave,\n      onDragOver: handleDragOver,\n      onDrop: handleDrop,\n      onClick: handleClick,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-upload-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: cloudIcon,\n          alt: \"Cloud upload icon\",\n          width: 24,\n          height: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"file-upload-content-text\",\n          children: \"Drop files here or click to upload\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".zip\",\n        ref: fileInputRef,\n        style: {\n          display: 'none'\n        },\n        onChange: handleFileInputChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n_s(FileUpload, \"BwF9z3jiyH67D0UyeOMr27Z2H/k=\");\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useState","useRef","cloudIcon","UploadedFile","jsxDEV","_jsxDEV","Fragment","_Fragment","FileUpload","onClick","_s","isDragging","setIsDragging","uploadedModpack","setUploadedModpack","uploadProgress","setUploadProgress","fileInputRef","handleDragEnter","handleDragLeave","handleDragOver","e","preventDefault","handleModpack","modpack","name","toLowerCase","endsWith","console","error","reader","FileReader","onload","log","onprogress","event","lengthComputable","progress","loaded","total","onloadend","dataUrl","target","result","readAsDataURL","handleDrop","files","dataTransfer","handleFileInputChange","handleClick","current","click","removeModpack","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onDragEnter","onDragLeave","onDragOver","onDrop","src","alt","width","height","type","accept","ref","style","display","onChange","_c","$RefreshReg$"],"sources":["C:/Users/crazy/Desktop/MMMServer/admin-interface/src/components/FileUpload/FileUpload.jsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport cloudIcon from '../../assets/cloud.png';\r\nimport './fileupload.css';\r\nimport UploadedFile from '../UploadedFile/UploadedFile';\r\n\r\nconst FileUpload = ({ onClick }) => {\r\n    const [isDragging, setIsDragging] = useState(false);\r\n    const [uploadedModpack, setUploadedModpack] = useState(null);\r\n    const [uploadProgress, setUploadProgress] = useState(0);\r\n    const fileInputRef = useRef(null);\r\n\r\n    const handleDragEnter = () => {\r\n        setIsDragging(true);\r\n    };\r\n\r\n    const handleDragLeave = () => {\r\n        setIsDragging(false);\r\n    };\r\n\r\n    const handleDragOver = (e) => {\r\n        e.preventDefault();\r\n    };\r\n\r\n    const handleModpack = (modpack) => {\r\n\r\n      if (!modpack.name.toLowerCase().endsWith('.zip')) {\r\n        console.error('Invalid file type. Please upload a ZIP file.');\r\n        return;\r\n      }\r\n      setUploadedModpack(modpack);\r\n\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = (e) => {\r\n          console.log(\"Reading Started\");\r\n      };\r\n\r\n      reader.onprogress = (event) => {\r\n          if (event.lengthComputable) {\r\n              const progress = (event.loaded / event.total) * 100;\r\n              setUploadProgress(progress);\r\n          }\r\n      };\r\n\r\n      reader.onloadend = () => {\r\n          console.log('Reading finished');\r\n        };\r\n    \r\n      reader.onload = (e) => {\r\n      const dataUrl = e.target.result;\r\n      console.log('Temp data URL:', dataUrl);\r\n      };\r\n\r\n      reader.readAsDataURL(modpack);\r\n    };\r\n    \r\n    const handleDrop = (event) => {\r\n      event.preventDefault();\r\n      setIsDragging(false); \r\n\r\n      const files = event.dataTransfer.files;\r\n      console.log(files[0]);\r\n      handleModpack(files[0]); \r\n    };\r\n\r\n    const handleFileInputChange = (event) => {\r\n        const files = event.target.files;\r\n        console.log(files[0]);\r\n        handleModpack(files[0]); \r\n    };\r\n\r\n    const handleClick = () => {\r\n        fileInputRef.current.click();\r\n    };\r\n\r\n    const removeModpack = () => {\r\n        setUploadProgress(0);\r\n        setUploadedModpack(null);\r\n    };\r\n\r\n    return (\r\n        <>\r\n        {uploadProgress > 0 ? (\r\n          <UploadedFile uploadedModpack={uploadedModpack} removeModpack={removeModpack} progress={uploadProgress} />\r\n        ) : (\r\n          <div\r\n            className={`file-upload ${isDragging ? 'dragging' : ''}`}\r\n            onDragEnter={handleDragEnter}\r\n            onDragLeave={handleDragLeave}\r\n            onDragOver={handleDragOver}\r\n            onDrop={handleDrop}\r\n            onClick={handleClick}\r\n          >\r\n            <div className='file-upload-content'>\r\n              <img src={cloudIcon} alt='Cloud upload icon' width={24} height={24} />\r\n              <p className='file-upload-content-text'>\r\n                Drop files here or click to upload\r\n              </p>\r\n            </div>\r\n            <input\r\n              type='file'\r\n              accept='.zip'\r\n              ref={fileInputRef}\r\n              style={{ display: 'none' }}\r\n              onChange={handleFileInputChange}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n};\r\n\r\nexport default FileUpload;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}